# usage: handlekill $victimid $shooterid
getres vn setnstate $1 name
getres vc setnstate $1 color
testresn $2 null getres sn setnstate $2 name
testresn $2 null getres sc setnstate $2 color
testresn $2 null getres sw setthing THING_PLAYER $2 weapon
testresn $2 null testres $sw $weap_none echo $sn#$sc rocked $vn#$vc
testresn $2 null testres $sw $weap_pistol echo $sn#$sc shot $vn#$vc with a pistol
testresn $2 null testres $sw $weap_shotgun echo $sn#$sc shotgunned $vn#$vc
testresn $2 null testres $sw $weap_autorifle echo $sn#$sc shot $vn#$vc with a rifle
testresn $2 null testres $sw $weap_launcher echo $sn#$sc blew up $vn#$vc with a bazooka
testresn $2 null testres $sw $weap_gloves echo $sn#$sc hit $vn#$vc with the gloves
testresn $2 null testres $sv_gamemode $mode_deathmatch givepoint $2 500
testresn $2 null getres kflag setnstate $2 flag
testresn $2 null testres $sv_gamemode $mode_vipmaster testres $kflag 1 givepoint $2 500
testres $sv_gamemode $mode_virus getres wasvirus setnstate $1 virus
testres $sv_gamemode $mode_virus setnstate $1 virus 1
testres $sv_gamemode $mode_virus testres $wasvirus 0 getres vvname setnstate $1 name
testres $sv_gamemode $mode_virus testres $wasvirus 0 getres vvcolor setnstate $1 color
testres $sv_gamemode $mode_virus testres $wasvirus 0 getres vvstr constr $vvname # $vvcolor
testres $sv_gamemode $mode_virus testres $wasvirus 0 echo $vvstr was infected
testres $2 null echo $vn#$vc exploded
getres hadflag setnstate $1 flag
getres deadid setnstate $1 id
setnstate $1 flag 0
getres pldropx setthing THING_PLAYER $1 coordx
getres pldropy setthing THING_PLAYER $1 coordy
testres $hadflag 1 exec_new scripts/dropitem ITEM_FLAG $1
testresn $sv_gamemode $mode_virus exec_new scripts/handleplayerweapondrop $1
getres respawntime sumlong $gametimemillis $respawnwaittime
scheduleevent $respawntime respawnnetplayer $deadid
