setvar delayhp 3600
getres impossibledelay sumint $delayhp 5000
setvar healdue 0
getres rcplusdelay sumlong $gametimemillis $impossibledelay
getres rctime setthing THING_PLAYER $plid hprechargetime
testres $rctime null setthing THING_PLAYER $plid hprechargetime 0
testres $rctime null setvar rctime 0
getres rcplusdelay sumlong $rctime $delayhp
getres healdue gte $gametimemillis $rcplusdelay
testres $healdue 1 exec scripts/rechargehealthdelegate